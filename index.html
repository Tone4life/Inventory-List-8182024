<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moving Inventory List</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
        }
        th {
            background-color: #f2f2f2;
        }
        .section {
            margin-bottom: 20px;
        }
        label {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <h1>Moving Inventory List</h1>


    <!-- Client Contact Area -->
    <div class="section">
        <h2>Client Contact Information</h2>
        <label for="clientName">Name:</label>
        <input type="text" id="clientName" placeholder="Client Name" required><br><br>
        <label for="clientPhone">Phone:</label>
        <input type="tel" id="clientPhone" placeholder="Phone Number" required><br><br>
        <label for="clientEmail">Email:</label>
        <input type="email" id="clientEmail" placeholder="Email Address" required><br><br>
    </div>

    <!-- Moving Details Area -->
    <div class="section">
        <h2>Moving Details</h2>
        <label for="moveDate">Move Date:</label>
        <input type="date" id="moveDate" required><br><br>
        <label for="origin">Origin Address:</label>
        <input type="text" id="origin" placeholder="Origin Address" required><br><br>
        <label for="destination">Destination Address:</label>
        <input type="text" id="destination" placeholder="Destination Address" required><br><br>
    </div>

    <!-- Inventory Table -->
    <button type="button" onclick="addItem()">Add Item</button>
    <table id="inventoryTable">
        <thead>
            <tr>
                <th>Room</th>
                <th>Item</th>
                <th>Quantity</th>
                <th>Description</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be added here dynamically -->
        </tbody>
    </table>
    <p id="totalItems">Total Items: 0</p>
    <button type="button" onclick="addItem()">Add Item</button>
    <button type="submit" onclick="validateForm()">Submit</button>
    <button type="button" onclick="exportToCSV()">Export to CSV</button>

    <script>
        function loadInventory() {
            var savedInventory = localStorage.getItem('inventory');
            if (savedInventory) {
                var inventory = JSON.parse(savedInventory);
                var table = document.getElementById('inventoryTable').getElementsByTagName('tbody')[0];
    
                for (var i = 0; i < inventory.length; i++) {
                    var row = table.insertRow(-1);
                    var cell1 = row.insertCell(0);
                    var cell2 = row.insertCell(1);
                    var cell3 = row.insertCell(2);
                    var cell4 = row.insertCell(3);
                    var cell5 = row.insertCell(4);
    
                    cell1.innerHTML = `
                        <select name="room" required>
                            <option value="${sanitizeInput(inventory[i].room)}" selected>${sanitizeInput(inventory[i].room)}</option>
                            <option value="Bdrm 1">Bdrm 1</option>
                            <option value="Bdrm 2">Bdrm 2</option>
                            <option value="Bdrm 3">Bdrm 3</option>
                            <option value="Lvrm">Living Room</option>
                            <option value="Kitchen">Kitchen</option>
                            <option value="Dining Room">Dining Room</option>
                            <option value="Garage">Garage</option>
                            <option value="Basement">Basement</option>
                        </select>`;
    
                    cell2.innerHTML = `
                        <select name="item" required>
                            <option value="${sanitizeInput(inventory[i].item)}" selected>${sanitizeInput(inventory[i].item)}</option>
                            <option value="Queen Bed">Queen Bed</option>
                            <option value="King Bed">King Bed</option>
                            <option value="Twin Bed">Twin Bed</option>
                            <option value="Full Bed">Full Bed</option>
                            <option value="Bunk Bed">Bunk Bed</option>
                            <option value="Dresser">Dresser</option>
                            <option value="Nightstand">Nightstand</option>
                            <option value="Wardrobe">Wardrobe</option>
                            <option value="Bookshelf">Bookshelf</option>
                            <option value="Sofa">Sofa</option>
                            <option value="Loveseat">Loveseat</option>
                            <option value="Recliner">Recliner</option>
                            <option value="Coffee Table">Coffee Table</option>
                            <option value="End Table">End Table</option>
                            <option value="Dining Table">Dining Table</option>
                            <option value="Dining Chairs">Dining Chairs</option>
                            <option value="Bar Stools">Bar Stools</option>
                            <option value="TV">TV</option>
                            <option value="TV Stand">TV Stand</option>
                            <option value="Entertainment Center">Entertainment Center</option>
                            <option value="Desk">Desk</option>
                            <option value="Office Chair">Office Chair</option>
                            <option value="Computer">Computer</option>
                            <option value="Printer">Printer</option>
                            <option value="Books">Books</option>
                            <option value="Lamp">Lamp</option>
                            <option value="Rug">Rug</option>
                            <option value="Curtains">Curtains</option>
                            <option value="Mirror">Mirror</option>
                            <option value="Artwork">Artwork</option>
                            <option value="Vase">Vase</option>
                            <option value="Bicycle">Bicycle</option>
                            <option value="Washer">Washer</option>
                            <option value="Dryer">Dryer</option>
                            <option value="Refrigerator">Refrigerator</option>
                            <option value="Microwave">Microwave</option>
                            <option value="Oven">Oven</option>
                            <option value="Toaster">Toaster</option>
                            <option value="Coffee Maker">Coffee Maker</option>
                            <option value="Blender">Blender</option>
                            <option value="Mixer">Mixer</option>
                            <option value="Pots and Pans">Pots and Pans</option>
                            <option value="Dishes">Dishes</option>
                            <option value="Utensils">Utensils</option>
                            <option value="Glasses">Glasses</option>
                            <option value="Cutlery Set">Cutlery Set</option>
                            <option value="Vacuum Cleaner">Vacuum Cleaner</option>
                            <option value="Ironing Board">Ironing Board</option>
                            <option value="Iron">Iron</option>
                            <option value="Laundry Basket">Laundry Basket</option>
                            <option value="Cleaning Supplies">Cleaning Supplies</option>
                            <option value="Fan">Fan</option>
                            <option value="Heater">Heater</option>
                            <option value="Air Conditioner">Air Conditioner</option>
                            <option value="BBQ Grill">BBQ Grill</option>
                            <option value="Patio Furniture">Patio Furniture</option>
                            <option value="Lawn Mower">Lawn Mower</option>
                            <option value="Garden Tools">Garden Tools</option>
                            <option value="Toolbox">Toolbox</option>
                            <option value="Sports Equipment">Sports Equipment</option>
                            <option value="Treadmill">Treadmill</option>
                            <option value="Weights">Weights</option>
                            <option value="Bedding">Bedding</option>
                            <option value="Pillows">Pillows</option>
                            <option value="Towels">Towels</option>
                            <option value="Closet Organizer">Closet Organizer</option>
                            <option value="Hangers">Hangers</option>
                            <option value="Shoes">Shoes</option>
                            <option value="Clothes">Clothes</option>
                            <option value="Suitcases">Suitcases</option>
                            <option value="Toys">Toys</option>
                            <option value="Board Games">Board Games</option>
                            <option value="Video Game Console">Video Game Console</option>
                            <option value="Pet Supplies">Pet Supplies</option>
                            <option value="Pet Bed">Pet Bed</option>
                            <option value="Aquarium">Aquarium</option>
                        </select>`;
    
                    cell3.innerHTML = `<input type="number" name="quantity" placeholder="Quantity" required min="1" value="${sanitizeInput(inventory[i].quantity)}">`;
                    cell4.innerHTML = `<input type="text" name="description" placeholder="Description" value="${sanitizeInput(inventory[i].description)}">`;
                    cell5.innerHTML = `<button type="button" onclick="removeItem(this)">Remove</button>`;
                }
    
                updateTotalItems();
            }
    
        function removeItem(button) {
            var row = button.parentNode.parentNode;
            row.parentNode.removeChild(row);
            updateTotalItems();
        }

        function validateForm() {
            var inputs = document.querySelectorAll('input, select');
            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].value === '') {
                    alert('Please fill out all fields before submitting.');
                    return false;
                }
            }
            saveInventory();
            alert('Inventory saved!');
            return true;
        }

        function updateTotalItems() {
            var table = document.getElementById('inventoryTable');
            var rows = table.getElementsByTagName('tbody')[0].rows;
            var totalItems = 0;

            for (var i = 0; i < rows.length; i++) {
                var quantity = rows[i].cells[2].getElementsByTagName('input')[0].value;
                totalItems += quantity ? parseInt(quantity) : 0;
            }

            document.getElementById('totalItems').textContent = 'Total Items: ' + totalItems;
        }

        function saveInventory() {
            var inventory = [];
            var rows = document.getElementById('inventoryTable').getElementsByTagName('tbody')[0].rows;

            for (var i = 0; i < rows.length; i++) {
                var room = rows[i].cells[0].getElementsByTagName('select')[0].value;
                var item = rows[i].cells[1].getElementsByTagName('select')[0].value;
                var quantity = rows[i].cells[2].getElementsByTagName('input')[0].value;
                var description = rows[i].cells[3].getElementsByTagName('input')[0].value;

                inventory.push({ room, item, quantity, description });
            }

            localStorage.setItem('inventory', JSON.stringify(inventory));
        }

        function loadInventory() {
            var savedInventory = localStorage.getItem('inventory');
            if (savedInventory) {
                var inventory = JSON.parse(savedInventory);
                var table = document.getElementById('inventoryTable').getElementsByTagName('tbody')[0];

                for (var i = 0; i < inventory.length; i++) {
                    var row = table.insertRow(-1);
                    var cell1 = row.insertCell(0);
                    var cell2 = row.insertCell(1);
                    var cell3 = row.insertCell(2);
                    var cell4 = row.insertCell(3);
                    var cell5 = row.insertCell(4);

                    cell1.innerHTML = `
                        <select name="room" required>
                            <option value="${sanitizeInput(inventory[i].room)}" selected>${sanitizeInput(inventory[i].room)}</option>
                            <option value="Bdrm 1">Bdrm 1</option>
                            <option value="Bdrm 2">Bdrm 2</option>
                            <option value="Bdrm 3">Bdrm 3</option>
                            <option value="Lvrm">Living Room</option>
                            <option value="Kitchen">Kitchen</option>
                            <option value="Dining Room">Dining Room</option>
                            <option value="Garage">Garage</option>
                            <option value="Basement">Basement</option>
                        </select>`;

                    cell2.innerHTML = `
                        <select name="item" required>
                            <option value="${sanitizeInput(inventory[i].item)}" selected>${sanitizeInput(inventory[i].item)}</option>
                            <option value="Queen Bed">Queen Bed</option>
                            <option value="King Bed">King Bed</option>
                            <option value="Twin Bed">Twin Bed</option>
                            <option value="Full Bed">Full Bed</option>
                            <option value="Bunk Bed">Bunk Bed</option>
                            <option value="Dresser">Dresser</option>
                            <option value="Nightstand">Nightstand</option>
                            <option value="Wardrobe">Wardrobe</option>
                            <option value="Bookshelf">Bookshelf</option>
                            <option value="Sofa">Sofa</option>
                            <option value="Loveseat">Loveseat</option>
                            <option value="Recliner">Recliner</option>
                            <option value="Coffee Table">Coffee Table</option>
                            <option value="End Table">End Table</option>
                            <option value="Dining Table">Dining Table</option>
                            <option value="Dining Chairs">Dining Chairs</option>
                            <option value="Bar Stools">Bar Stools</option>
                            <option value="TV">TV</option>
                            <option value="TV Stand">TV Stand</option>
                            <option value="Entertainment Center">Entertainment Center</option>
                            <option value="Desk">Desk</option>
                            <option value="Office Chair">Office Chair</option>
                            <option value="Computer">Computer</option>
                            <option value="Printer">Printer</option>
                            <option value="Books">Books</option>
                            <option value="Lamp">Lamp</option>
                            <option value="Rug">Rug</option>
                            <option value="Curtains">Curtains</option>
                            <option value="Mirror">Mirror</option>
                            <option value="Artwork">Artwork</option>
                            <option value="Vase">Vase</option>
                            <option value="Bicycle">Bicycle</option>
                            <option value="Washer">Washer</option>
                            <option value="Dryer">Dryer</option>
                            <option value="Refrigerator">Refrigerator</option>
                            <option value="Microwave">Microwave</option>
                            <option value="Oven">Oven</option>
                            <option value="Toaster">Toaster</option>
                            <option value="Coffee Maker">Coffee Maker</option>
                            <option value="Blender">Blender</option>
                            <option value="Mixer">Mixer</option>
                            <option value="Pots and Pans">Pots and Pans</option>
                            <option value="Dishes">Dishes</option>
                            <option value="Utensils">Utensils</option>
                            <option value="Glasses">Glasses</option>
                            <option value="Cutlery Set">Cutlery Set</option>
                            <option value="Vacuum Cleaner">Vacuum Cleaner</option>
                            <option value="Ironing Board">Ironing Board</option>
                            <option value="Iron">Iron</option>
                            <option value="Laundry Basket">Laundry Basket</option>
                            <option value="Cleaning Supplies">Cleaning Supplies</option>
                            <option value="Fan">Fan</option>
                            <option value="Heater">Heater</option>
                            <option value="Air Conditioner">Air Conditioner</option>
                            <option value="BBQ Grill">BBQ Grill</option>
                            <option value="Patio Furniture">Patio Furniture</option>
                            <option value="Lawn Mower">Lawn Mower</option>
                            <option value="Garden Tools">Garden Tools</option>
                            <option value="Toolbox">Toolbox</option>
                            <option value="Sports Equipment">Sports Equipment</option>
                            <option value="Treadmill">Treadmill</option>
                            <option value="Weights">Weights</option>
                            <option value="Bedding">Bedding</option>
                            <option value="Pillows">Pillows</option>
                            <option value="Towels">Towels</option>
                            <option value="Closet Organizer">Closet Organizer</option>
                            <option value="Hangers">Hangers</option>
                            <option value="Shoes">Shoes</option>
                            <option value="Clothes">Clothes</option>
                            <option value="Suitcases">Suitcases</option>
                            <option value="Toys">Toys</option>
                            <option value="Board Games">Board Games</option>
                            <option value="Video Game Console">Video Game Console</option>
                            <option value="Pet Supplies">Pet Supplies</option>
                            <option value="Pet Bed">Pet Bed</option>
                            <option value="Aquarium">Aquarium</option>
                        </select>`;

                        cell3.innerHTML = `<input type="number" name="quantity" placeholder="Quantity" required min="1" value="${sanitizeInput(inventory[i].quantity)}">`;
cell4.innerHTML = `<input type="text" name="description" placeholder="Description" value="${sanitizeInput(inventory[i].description)}">`;
cell5.innerHTML = `<button type="button" onclick="removeItem(this)">Remove</button>`;
        
                    updateTotalItems();
                }
            }
        </script> function loadInventory() {
            var savedInventory = localStorage.getItem('inventory');
            if (savedInventory) {
                var inventory = JSON.parse(savedInventory);
                var table = document.getElementById('inventoryTable').getElementsByTagName('tbody')[0];

                for (var i = 0; i < inventory.length; i++) {
                    var row = table.insertRow(-1);
                    var cell1 = row.insertCell(0);
                    var cell2 = row.insertCell(1);
                    var cell3 = row.insertCell(2);
                    var cell4 = row.insertCell(3);
                    var cell5 = row.insertCell(4);

                    cell1.innerText = `<select name="room" required>
                        <option value="${inventory[i].room}" selected>${inventory[i].room}</option>
                        <option value="Bdrm 1">Bdrm 1</option>
                        <option value="Bdrm 2">Bdrm 2</option>
                        <option value="Bdrm 3">Bdrm 3</option>
                        <option value="Lvrm">Living Room</option>
                        <option value="Kitchen">Kitchen</option>
                        <option value="Dining Room">Dining Room</option>
                        <option value="Garage">Garage</option>
                        <option value="Basement">Basement</option>
                    </select>`;

                    cell2.innerHTML = `
    <select name="item" required>
        <option value="">Select Item</option>
        <option value="Queen Bed">Queen Bed</option>
        <option value="King Bed">King Bed</option>
        <option value="Twin Bed">Twin Bed</option>
        <option value="Full Bed">Full Bed</option>
        <option value="Bunk Bed">Bunk Bed</option>
        <option value="Dresser">Dresser</option>
        <option value="Nightstand">Nightstand</option>
        <option value="Wardrobe">Wardrobe</option>
        <option value="Bookshelf">Bookshelf</option>
        <option value="Sofa">Sofa</option>
        <option value="Loveseat">Loveseat</option>
        <option value="Recliner">Recliner</option>
        <option value="Coffee Table">Coffee Table</option>
        <option value="End Table">End Table</option>
        <option value="Dining Table">Dining Table</option>
        <option value="Dining Chairs">Dining Chairs</option>
        <option value="Bar Stools">Bar Stools</option>
        <option value="TV">TV</option>
        <option value="TV Stand">TV Stand</option>
        <option value="Entertainment Center">Entertainment Center</option>
        <option value="Desk">Desk</option>
        <option value="Office Chair">Office Chair</option>
        <option value="Computer">Computer</option>
        <option value="Printer">Printer</option>
        <option value="Books">Books</option>
        <option value="Lamp">Lamp</option>
        <option value="Rug">Rug</option>
        <option value="Curtains">Curtains</option>
        <option value="Mirror">Mirror</option>
        <option value="Artwork">Artwork</option>
        <option value="Vase">Vase</option>
        <option value="Bicycle">Bicycle</option>
        <option value="Washer">Washer</option>
        <option value="Dryer">Dryer</option>
        <option value="Refrigerator">Refrigerator</option>
        <option value="Microwave">Microwave</option>
        <option value="Oven">Oven</option>
        <option value="Toaster">Toaster</option>
        <option value="Coffee Maker">Coffee Maker</option>
        <option value="Blender">Blender</option>
        <option value="Mixer">Mixer</option>
        <option value="Pots and Pans">Pots and Pans</option>
        <option value="Dishes">Dishes</option>
        <option value="Utensils">Utensils</option>
        <option value="Glasses">Glasses</option>
        <option value="Cutlery Set">Cutlery Set</option>
        <option value="Vacuum Cleaner">Vacuum Cleaner</option>
        <option value="Ironing Board">Ironing Board</option>
        <option value="Iron">Iron</option>
        <option value="Laundry Basket">Laundry Basket</option>
        <option value="Cleaning Supplies">Cleaning Supplies</option>
        <option value="Fan">Fan</option>
        <option value="Heater">Heater</option>
        <option value="Air Conditioner">Air Conditioner</option>
        <option value="BBQ Grill">BBQ Grill</option>
        <option value="Patio Furniture">Patio Furniture</option>
        <option value="Lawn Mower">Lawn Mower</option>
        <option value="Garden Tools">Garden Tools</option>
        <option value="Toolbox">Toolbox</option>
        <option value="Sports Equipment">Sports Equipment</option>
        <option value="Treadmill">Treadmill</option>
        <option value="Weights">Weights</option>
        <option value="Bedding">Bedding</option>
        <option value="Pillows">Pillows</option>
        <option value="Towels">Towels</option>
        <option value="Closet Organizer">Closet Organizer</option>
        <option value="Hangers">Hangers</option>
        <option value="Shoes">Shoes</option>
        <option value="Clothes">Clothes</option>
        <option value="Suitcases">Suitcases</option>
        <option value="Toys">Toys</option>
        <option value="Board Games">Board Games</option>
        <option value="Video Game Console">Video Game Console</option>
        <option value="Pet Supplies">Pet Supplies</option>
        <option value="Pet Bed">Pet Bed</option>
        <option value="Aquarium">Aquarium</option>
    </select>`;


                    cell3.innerText = `<input type="number" name="quantity" value="${inventory[i].quantity}" required>`;
                    cell4.innerText = `<input type="text" name="description" value="${inventory[i].description}">`;
                    cell5.innerText = '<button type="button" onclick="removeItem(this)">Remove</button>';
                }
                updateTotalItems();
            }
        }

        function exportToCSV() {
            var rows = document.getElementById('inventoryTable').getElementsByTagName('tbody')[0].rows;
            var csvContent = "data:text/csv;charset=utf-8,Room,Item,Quantity,Description\n";

            for (var i = 0; i < rows.length; i++) {
                var room = rows[i].cells[0].getElementsByTagName('select')[0].value;
                var item = rows[i].cells[1].getElementsByTagName('select')[0].value;
                var quantity = rows[i].cells[2].getElementsByTagName('input')[0].value;
                var description = rows[i].cells[3].getElementsByTagName('input')[0].value;

                csvContent += `${room},${item},${quantity},${description}\n`;
            }

            var encodedUri = encodeURI(csvContent);
            var link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "moving_inventory.csv");
            document.body.appendChild(link);

            link.click();
        }

        // Load the inventory from local storage when the page loads
        window.onload = loadInventory;
    </script>
</body>
</html>
